import pandas as pd
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.metrics.pairwise import cosine_similarity

# carregar dados do CSV
data = pd.read_csv('bazar.csv')

# criar uma matriz TF-IDF para os dados
tfidf = TfidfVectorizer(stop_words='english')
tfidf_matrix = tfidf.fit_transform(data['description'])

# função para recomendar itens
def recommend_items(keywords, num_recommendations=5):
    # criar uma matriz TF-IDF para as palavras-chave
    keyword_matrix = tfidf.transform([keywords])

    # calcular a similaridade do cosseno entre as palavras-chave e os itens
    cosine_similarities = cosine_similarity(keyword_matrix, tfidf_matrix).flatten()

    # classificar os itens por similaridade e retornar os mais similares
    most_similar_indices = cosine_similarities.argsort()[:-num_recommendations-1:-1]
    return data.iloc[most_similar_indices]['name']

# solicitar palavras-chave do usuário
keywords = input("Digite algumas palavras-chave: ")

# recomendar itens com base nas palavras-chave
recommendations = recommend_items(keywords)

# imprimir as recomendações
print("Recomendações:")
for i, recommendation in enumerate(recommendations):
    print(f"{i+1}. {recommendation}")
